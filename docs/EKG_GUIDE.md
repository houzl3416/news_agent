# EKG 事件知识图谱 - 通俗易懂指南

> **用故事和例子理解 EKG 如何工作**

## 🎯 EKG 是什么？

想象一下，EKG（事件知识图谱）就像是新闻界的"**犯罪档案系统**"。

### 类比理解

| 传统系统 | EKG系统 |
|---------|---------|
| 警察每次遇到嫌疑人都要重新调查背景 | 警察一查身份证，立即看到犯罪记录 |
| 每次看到传言都要从头核查 | 一看信源，立即知道历史可信度 |
| 浪费时间，效率低 | 毫秒级预警，效率高 |

**核心思想**：把每次调查的结果"记住"，下次遇到同一信源时，立即调用历史数据。

---

## 📖 场景故事：理解 EKG 的价值

### 场景 1：没有 EKG 的世界

**2024年1月1日上午**

小李在网上看到一条爆炸性新闻：

> "@科技爆料王 发布：OpenAI 将投资 AMD 1000亿美元！"

小李的团队开始调查：

1. **步骤1**：找到信源 `@科技爆料王`（花费 10 分钟）
2. **步骤2**：搜索 SEC 监管文件（花费 20 分钟）
3. **步骤3**：查询公司官方新闻（花费 15 分钟）
4. **步骤4**：交叉验证其他信源（花费 30 分钟）
5. **结论**：这是假消息！（总耗时：75 分钟）

**2024年1月5日下午**

又一条新闻出现：

> "@科技爆料王 发布：Google 将收购 Adobe！"

小李的团队又开始调查...

**问题**：
- ❌ 重复劳动！`@科技爆料王` 已经被证明不可靠了
- ❌ 每次都要从头开始，浪费时间
- ❌ 没有"记忆"，无法积累经验

---

### 场景 2：有 EKG 的世界

**2024年1月1日上午（第一次遇到 @科技爆料王）**

小李看到同样的新闻，但这次系统有 EKG：

```
📥 用户提交：OpenAI 投资 AMD 1000亿
   ↓
🔍 溯源猎手：找到信源 @科技爆料王
   ↓
💾 查询 EKG：查无此信源（新信源）
   ↓
✅ 开始完整调查...（75分钟）
   ↓
❌ 结论：假消息
   ↓
📝 更新 EKG：
   - 信源：@科技爆料王
   - 信誉分：50 → 35（-15分）
   - 标签：不可靠
```

**2024年1月5日下午（第二次遇到 @科技爆料王）**

又一条新闻出现：

```
📥 用户提交：Google 收购 Adobe
   ↓
🔍 溯源猎手：找到信源 @科技爆料王
   ↓
⚡ 查询 EKG：毫秒级返回！
   ✅ 找到历史记录
   - 信源：@科技爆料王
   - 信誉分：35
   - 历史准确率：0%
   - 上次发假消息时间：4天前
   ↓
🚨 立即预警：
   "该信源历史准确率仅0%，建议谨慎对待！"
```

**效果**：
- ✅ 从 75 分钟缩短到 **10 秒**！
- ✅ 立即预警，无需重复调查
- ✅ 系统"记住"了不可靠的信源

---

## 🧠 EKG 的核心机制：飞轮效应

### 什么是飞轮效应？

就像骑自行车：
- 第一圈：很费力，需要用力蹬
- 第二圈：开始有惯性了
- 第十圈：轻松省力，飞速前进

**EKG 的飞轮**：

```
第1次调查 → 积累数据 → 存入 EKG
   ↓
第2次调查 → 利用数据 → 快速预警 → 积累更多数据
   ↓
第10次调查 → 数据丰富 → 秒级响应 → 越来越智能
   ↓
第100次调查 → 拥有完整档案 → 毫秒级精准预警
```

### 具体例子：信源信誉分的演变

**信源：@科技爆料王**

| 时间 | 事件 | 信誉分变化 | 系统反应 |
|------|------|-----------|---------|
| 1月1日 | 初次遇到 | 50（初始值） | 无历史，需完整调查 |
| 1月1日 | 发布假消息1 | 50 → 35 | 记录到 EKG |
| 1月5日 | 发布假消息2 | 35 → 20 | ⚠️ 预警：低信誉信源 |
| 1月10日 | 发布假消息3 | 20 → 5 | 🔴 预警：极不可信！ |
| 1月15日 | 再次出现 | 5 | 🚨 **秒级拦截**：历史全部是假消息 |

**关键价值**：到第 4 次，系统已经可以**秒级判断**该信源极不可信，无需任何调查！

---

## 🎬 完整场景演示

### 场景 3：一个完整的调查流程（有图有真相）

**背景**：2024年2月，网上流传 "特斯拉将停产 Model 3"

#### 第一步：用户提交

```
👤 用户：
   "我看到一条新闻说特斯拉要停产 Model 3，是真的吗？"
   链接：https://某自媒体.com/tesla-news
```

#### 第二步：溯源（Source Hunter）

```
🔍 溯源猎手工作中...

找到原始信源：
   - 名称：@汽车内幕消息
   - 类型：社交媒体自媒体
   - 首次发布：2024-02-15 08:30
   - 内容："独家消息：特斯拉内部邮件显示，Model 3 将于3月停产"
```

#### 第三步：查询 EKG（关键步骤）

```
💾 查询 EKG 历史档案...

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📋 信源档案
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
信源名称：@汽车内幕消息
注册时间：2023-08-10
信誉分：⭐⭐ (22/100)

📊 历史记录：
总发布：15 条
已验证：1 条 (6.7%)
已证伪：9 条 (60%)
准确率：6.7%

⚠️  风险标签：
- 高频发布未经证实消息
- 多次被官方辟谣
- 倾向于夸大事实

🕐 最近活动：
- 2024-02-10: 发布"特斯拉大规模裁员" → 已证伪
- 2024-02-05: 发布"马斯克卸任CEO" → 已证伪
- 2024-01-28: 发布"Model Y降价50%" → 已证伪

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🚨 系统预警
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
风险等级：🔴 高度存疑
建议：该信源历史准确率仅 6.7%，
     过去30天内已3次发布虚假特斯拉消息，
     强烈建议等待官方确认！
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

⏱️  查询耗时：8 毫秒
```

**关键价值体现**：
- ✅ 8 毫秒就知道这个信源不可靠
- ✅ 无需再去核查 SEC、特斯拉官网
- ✅ 节省 1-2 小时的调查时间

#### 第四步：快速验证（可选）

虽然 EKG 已经给出预警，系统还会做简单验证：

```
✅ 核查专家快速检查：

1. 特斯拉官网：无相关公告
2. SEC 文件：无停产披露
3. 官方 Twitter：无相关消息

⏱️  验证耗时：2 分钟（对比传统方式的 1 小时）
```

#### 第五步：生成报告

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📊 调查报告
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
事件：特斯拉停产 Model 3 传闻
可信度评分：⭐ 12/100
结论：❌ 极不可信

🔍 溯源结果：
   原始信源：@汽车内幕消息
   历史信誉：22/100（低）
   准确率：6.7%

✅ 核查结果：
   - 特斯拉官方：无相关公告
   - SEC文件：无停产披露
   - 其他可靠信源：无佐证

💡 建议：
   该消息极不可信，建议忽略。
   若特斯拉真有此计划，会通过官方渠道发布。

⏱️  总耗时：2分钟（传统方式需 1-2 小时）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

#### 第六步：更新 EKG（飞轮继续转动）

```
📝 更新 EKG...

信源：@汽车内幕消息
信誉分：22 → 17 (-5)
新增记录：
   - 时间：2024-02-15
   - 声明："特斯拉停产 Model 3"
   - 状态：已证伪
   - 证据：官方无公告 + SEC无披露

总声明数：15 → 16
已证伪数：9 → 10
准确率：6.7% → 6.25% ⬇️

✅ EKG 更新完成！
   下次遇到该信源，系统会更加警惕。
```

---

## 🔄 对比：传统方式 vs EKG 方式

### 传统方式（无记忆）

```
用户提交新闻
   ↓
搜索原始来源 (10-20分钟)
   ↓
核查官方渠道 (20-30分钟)
   ↓
交叉验证其他信源 (20-40分钟)
   ↓
专家人工判断 (10-20分钟)
   ↓
生成报告
━━━━━━━━━━━━━━━━━━━━━
总耗时：60-110 分钟
每次都要重复全部步骤
```

### EKG 方式（有记忆）

**第一次遇到新信源**：
```
用户提交新闻
   ↓
查询 EKG → 无记录
   ↓
执行完整调查 (60-110分钟)
   ↓
更新 EKG ← 【关键：记住结果】
━━━━━━━━━━━━━━━━━━━━━
总耗时：60-110 分钟（和传统方式一样）
```

**第二次及以后遇到同一信源**：
```
用户提交新闻
   ↓
查询 EKG → ✅ 找到记录！
   ↓【毫秒级返回历史数据】
立即预警 (10秒)
   ↓
可选：简单验证 (2-5分钟)
   ↓
生成报告
━━━━━━━━━━━━━━━━━━━━━
总耗时：2-5 分钟
━━━━━━━━━━━━━━━━━━━━━
⚡ 效率提升：12-50 倍！
```

---

## 🎨 可视化：EKG 的数据结构

### 知识图谱长什么样？

想象一个"关系网络图"：

```
                    [事件: 特斯拉停产传闻]
                            |
                    (包含3个声明)
                            |
        ┌───────────────────┼───────────────────┐
        |                   |                   |
        ↓                   ↓                   ↓
   [声明1]              [声明2]              [声明3]
  "停产Model3"        "内部邮件"           "3月执行"
        |                   |                   |
   (来自信源)          (来自信源)          (来自信源)
        ↓                   ↓                   ↓
[@汽车内幕消息]     [@汽车内幕消息]      [@汽车内幕消息]
  信誉分: 17          信誉分: 17           信誉分: 17
        ↓
   (被证伪方)
        ↓
   [声明4]
  "官方无此计划"
        |
   (来自信源)
        ↓
  [特斯拉官方]
   信誉分: 95
```

**关键关系**：
- `事件` --包含--> `声明`
- `声明` --来自--> `信源`
- `声明` --证伪--> `声明`（核心关系）

### 实际数据示例

**信源表**：
| ID | 名称 | 类型 | 信誉分 | 总声明 | 准确率 |
|----|------|------|--------|--------|--------|
| 1 | @汽车内幕消息 | 自媒体 | 17 | 16 | 6.25% |
| 2 | 特斯拉官方 | 官方 | 95 | 50 | 98% |
| 3 | 路透社 | 新闻媒体 | 88 | 200 | 94% |

**声明表**：
| ID | 文本 | 信源 | 状态 | 时间 |
|----|------|------|------|------|
| 1 | 特斯拉停产Model3 | @汽车内幕消息 | 已证伪 | 2024-02-15 |
| 2 | 官方无此计划 | 特斯拉官方 | 已验证 | 2024-02-15 |

**证伪关系表**：
| 证伪方声明 | 被证伪声明 | 置信度 |
|-----------|-----------|--------|
| 声明2 | 声明1 | 0.95 |

---

## 🌟 EKG 的三大核心价值

### 1️⃣ 速度：毫秒级预警

**场景**：金融交易员

```
08:30:00 - 看到消息："某公司财报造假"
08:30:01 - EKG 查询：信源信誉分 12/100
08:30:02 - 预警：极不可信，忽略
08:30:03 - 继续正常交易

不受虚假消息影响 ✅
```

**传统方式**：
```
08:30:00 - 看到消息
08:30:05 - 开始搜索验证...
08:35:00 - 还在核查中...
08:40:00 - 确认是假消息
         但已经错过最佳交易时机 ❌
```

### 2️⃣ 准确：基于历史数据

**场景**：记者写稿

```
记者要引用某自媒体的爆料：

❌ 传统方式：
   "这个消息看起来很劲爆，先用了再说"
   风险：可能引用假消息，损害媒体信誉

✅ EKG 方式：
   查询 → 该信源准确率仅 8%
   决定：不引用，等待官方确认
   结果：避免了发布假新闻
```

### 3️⃣ 进化：越用越智能

**场景**：系统成长轨迹

```
第 1 个月：
   信源数：100
   事件数：50
   平均预警时间：30分钟

第 6 个月：
   信源数：5,000
   事件数：2,000
   平均预警时间：5分钟

第 12 个月：
   信源数：50,000
   事件数：20,000
   平均预警时间：10秒

第 24 个月：
   信源数：500,000
   事件数：200,000
   平均预警时间：<1秒
   覆盖率：95% 的传言都有历史记录
```

**关键**：时间越长，数据越多，系统越准确！

---

## 📈 实际应用场景

### 场景 4：金融机构风控

**问题**：量化交易算法容易被虚假消息干扰

**解决方案**：集成 EKG API

```python
# 交易算法伪代码

def trade_decision(news):
    # 查询 EKG 风险评分
    risk_score = ekg_api.get_risk_score(news)

    if risk_score > 70:  # 高风险
        return "IGNORE"  # 忽略消息
    elif risk_score > 40:  # 中风险
        return "WAIT_CONFIRM"  # 等待确认
    else:  # 低风险
        return "PROCEED"  # 正常处理
```

**效果**：
- ✅ 减少 90% 的虚假消息干扰
- ✅ 提升交易决策准确率
- ✅ 避免因假消息导致的损失

### 场景 5：新闻编辑室

**问题**：记者需要快速验证稿件中的引用

**解决方案**：编辑器插件

```
记者在写稿时引用了某信源：

┌─────────────────────────────────────┐
│ 正在写稿...                          │
│                                      │
│ 据 @科技爆料王 透露，苹果将...      │
│        ↑                             │
│     [EKG插件提示]                    │
│  ⚠️  该信源历史准确率仅 5%           │
│      建议：不建议引用                 │
│                                      │
│  [查看详情] [忽略] [选择其他信源]     │
└─────────────────────────────────────┘
```

**效果**：
- ✅ 实时提示信源可靠性
- ✅ 避免引用不可靠信源
- ✅ 提升新闻质量

### 场景 6：普通用户辟谣

**问题**：家人在微信群转发假消息

**解决方案**：微信小程序

```
家人转发："震惊！某食品致癌！"
   ↓
你打开 "NEWS GT" 小程序
   ↓
粘贴消息链接
   ↓
【1秒后】
━━━━━━━━━━━━━━━━━━━━━━
🔴 假消息预警
━━━━━━━━━━━━━━━━━━━━━━
信源：@养生秘籍大全
信誉分：8/100
历史：发布 50 条消息，48 条已被证伪

该消息：
- 2023年就被辟谣过
- 内容与科学事实不符
- 属于典型的健康谣言

建议：不要相信和转发
━━━━━━━━━━━━━━━━━━━━━━
```

**效果**：
- ✅ 帮助家人识别假消息
- ✅ 避免转发谣言
- ✅ 提升全民媒介素养

---

## 🎓 总结：EKG 的本质

### 用一句话理解 EKG

> **EKG 就是新闻界的"征信系统"，记录每个信源的"信用历史"，让假消息无处遁形。**

### 三个核心原理

1️⃣ **记忆**：把每次调查结果存下来
2️⃣ **查询**：遇到熟悉的信源，立即调用历史
3️⃣ **进化**：数据越多，判断越准

### 类比总结

| 概念 | 类比 |
|------|------|
| EKG | 犯罪档案系统 |
| 信源 | 嫌疑人 |
| 信誉分 | 信用分数 |
| 声明 | 犯罪记录 |
| 飞轮效应 | 档案越完善，破案越快 |

---

## 🚀 开始使用 EKG

### 立即体验

```bash
# 1. 运行演示
python demos/ekg_demo.py

# 2. 查看数据
python demos/view_ekg_data.py

# 3. 阅读文档
cat EKG_QUICKSTART.md
```

### 实际应用

查看 [EKG_QUICKSTART.md](../EKG_QUICKSTART.md) 了解如何：
- 集成到你的项目
- 自定义测试场景
- 查询和分析数据

---

## ❓ 常见疑问

### Q1: EKG 会不会误判？

**答**：会，但概率很低。

- EKG 基于历史数据，如果某信源一直发假消息，那它很可能继续发假消息
- 对于新信源，EKG 会给中性评分，不会误判
- 系统会持续学习，随着数据增加，准确率会提升

### Q2: 信源可以"洗白"吗？

**答**：可以！

- 如果某信源开始发布准确消息，信誉分会逐步恢复
- 系统不是"一棒子打死"，而是动态评估
- 这也鼓励信源提升内容质量

### Q3: EKG 能处理多少数据？

**答**：理论上无限。

- 当前使用 SQLite，适合 10万 级别
- 可升级到 PostgreSQL，支持 1000万 级别
- 可升级到 Neo4j（专业图数据库），支持亿级

### Q4: 需要人工维护吗？

**答**：几乎不需要。

- EKG 是自动化系统，调查完成后自动更新
- 无需人工标注或维护
- 数据越多，系统越智能

---

**🎉 现在你已经理解了 EKG 的核心价值！赶快运行 Demo 亲自体验吧！**

```bash
python demos/ekg_demo.py
```
